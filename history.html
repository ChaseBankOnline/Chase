<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Transaction History | Chase Bank</title>
  <link rel="stylesheet" href="history.css">
</head>
<body>

<header class="history-header">
  <button onclick="window.location.href='dashboard.html'">← Back to Dashboard</button>
  <h2>Transaction History</h2>
</header>

<main class="history-container">
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Description</th>
        <th>Amount</th>
        <th>Status</th>
        <th>Receipt</th>
      </tr>
    </thead>
    <tbody id="history-body">
      <!-- JS will populate -->
    </tbody>
  </table>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script src="history.js"></script>

<!-- Success Modal -->
<div id="success-modal" style="display:none;">
  <div class="modal-content">
    <span id="close-receipt" style="cursor:pointer;">&times;</span>
    <h2 id="modal-heading">Transaction Successful ✔</h2>

    <p><strong>Transaction ID:</strong> <span id="r-id"></span></p>
    <p><strong>Reference Number:</strong> <span id="r-ref"></span></p>
    <p><strong>Payment Date:</strong> <span id="r-date"></span></p>
    <p><strong>Time‑Stamp:</strong> <span id="r-time"></span></p>

    <hr>

    <h3>Transfer Details</h3>
    <p><strong>Payment Amount:</strong> <span id="r-amount"></span></p>
    <p><strong>Transaction Fee:</strong> $<span id="r-fee">0.00</span></p>

    <hr>

    <h3>Account Information</h3>
    <p><strong>From Account:</strong> JPMorgan Chase Bank, N.A. (****8433)</p>
    <p><strong>To Account:</strong> <span id="r-recipient"></span></p>
    <p><strong>Recipient Name:</strong> <span id="r-name"></span></p>

    <hr>

    <h3>Authorization Statement</h3>
    <p>
      I hereby confirm that I have authorized an electronic debit from my payment account in the amount stated above.
      This transaction was approved by the account holder and processed in accordance with applicable banking regulations.
    </p>

    <hr>

    <p><strong>Transaction Status:</strong> <span id="r-status">Completed / Successful</span></p>

    <hr>

    <small>This receipt was generated electronically.</small>

    <div class="receipt-actions">
      <button id="download-receipt">Download Receipt</button>
    </div>
  </div>
</div>

<div id="receipt-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
  background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:9999;">
  <div style="background:#fff; padding:20px; width:350px; margin:auto; position:relative;">
    <span id="close-receipt" style="position:absolute; top:10px; right:10px; cursor:pointer;">&times;</span>
    <h2>Transaction Receipt</h2>
    <p><strong>Date:</strong> <span id="r-date"></span></p>
    <p><strong>Description:</strong> <span id="r-desc"></span></p>
    <p><strong>Amount:</strong> <span id="r-amount"></span></p>
    <p><strong>Status:</strong> <span id="r-status"></span></p>
    <p><strong>Recipient Name:</strong> <span id="r-recipient-name"></span></p>
    <p><strong>Recipient Account:</strong> <span id="r-recipient-account"></span></p>
    <p><strong>Recipient Bank:</strong> <span id="r-recipient-bank"></span></p>
    <button id="download-receipt">Download Receipt</button>
  </div>
</div>
  
</body>
</html>
